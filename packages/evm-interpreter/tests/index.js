import assert from "assert";
import { main } from "../build/debug.js";

// assert.strictEqual(main().toString(), [0x25,0x52,0x55,0x25,0x52,0x55,0x25,0x52,0x55,0x25,0x52,0x55,0x25,0x52,0x55,0x25,0x52,0x55,0x25,0x52,0x55,0x25,0x52,0x55,0x25,0x52,0x55,0x25,0x52,0x55,0x25,0x52].toString());

function benchmark(func, ...args) {
    let start = performance.now();
    func(...args);
    let end = performance.now();
    return end - start;
}

function runf() {
    const value = main();
    console.log(u8ArrayToHex(value))
}

let timeTaken = benchmark(runf);
console.log(`Execution time: ${timeTaken} milliseconds`);



// assert.strictEqual(value.toString(), [0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xe4,0x00].toString());


// assert.strictEqual(main().toString(), [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0xee, 0xee, 0xee, 0xee, 0xee, 0xee, 0xee].toString());
console.log("ok");

// 0x2552552552552552552552552552552552552552552552552552552552552552


function u8ArrayToHex(arr) {
    return arr.reduce((accum, v) => accum + v.toString(16).padStart(2, '0'), "");
}
